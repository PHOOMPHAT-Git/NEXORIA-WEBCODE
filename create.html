<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
  <title>CREATE CHARACTER</title>
  <link rel="icon" type="image/png" href="./img/BIG_LOGO.png"/>
  <link rel="stylesheet" href="./css/create.css">
</head>
<body>
  <nav class="top-nav">
    <div class="nav-logo">
      <img src="./img/NEXORIA_WHITE_LOGO.png" alt="NEXORIA logo">
    </div>
  
    <div class="hamburger" onclick="toggleMenu()">
      <span></span>
      <span></span>
      <span></span>
    </div>
  
    <div class="nav-center" id="mobileMenu">
      <a href="/">HOME</a>
      <a href="https://discord.gg/QvTuj2sH" target="_blank">COMMUNITY</a>
    </div>
  </nav>

  <div class="content">
    <div class="brand">
      <img src="./img/NEXORIA_WHITE_LOGO.png" alt="NEXORIA logo" class="fade-slide-up">
      <h1 class="fade-slide-up">CREATE</h1>
    </div>
    <h3 class="fade-slide-up">You can create your account here.</h3>
    <h2 class="red_text fade-slide-up">! This cannot be changed later !</h2>

    <div class="dropdown-container fade-slide-up">
      <div class="dropdown-left">

        <div class="custom-dropdown">
          <div class="dropdown-header" onclick="toggleCustomDropdown(this)">Gender</div>
          <ul class="dropdown-options">
            <li onclick="selectOption(this)">Male</li>
            <li onclick="selectOption(this)">Female</li>
          </ul>
        </div>
      
        <div class="custom-dropdown">
          <div class="dropdown-header" onclick="toggleCustomDropdown(this)">Role</div>
          <ul class="dropdown-options">
            <li onclick="selectOption(this)">Warrior</li>
            <li onclick="selectOption(this)">Healer</li>
            <li onclick="selectOption(this)">Mage</li>
          </ul>
        </div>
      
        <div class="custom-dropdown">
          <div class="dropdown-header" onclick="toggleCustomDropdown(this)">Element</div>
          <ul class="dropdown-options">
            <li onclick="selectOption(this)">Fire</li>
            <li onclick="selectOption(this)">Water</li>
            <li onclick="selectOption(this)">Wind</li>
          </ul>
        </div>
      
        <div class="custom-dropdown">
          <div class="dropdown-header" onclick="toggleCustomDropdown(this)">Style</div>
          <ul class="dropdown-options">
            <li onclick="selectOption(this)">Assassin</li>
            <li onclick="selectOption(this)">Tank</li>
            <li onclick="selectOption(this)">Ranged</li>
          </ul>
        </div>
      
        <div class="custom-dropdown">
          <div class="dropdown-header" onclick="toggleCustomDropdown(this)">Difficulty</div>
          <ul class="dropdown-options">
            <li onclick="selectOption(this)">Normal</li>
            <li onclick="selectOption(this)">Hard</li>
            <li onclick="selectOption(this)">Nightmare</li>
          </ul>
        </div>
      
      </div>

      <div class="divider-center fade-slide-up"></div>
      
      <div class="dropdown-right">

        <div class="custom-dropdown">
          <div class="dropdown-header" onclick="toggleCustomDropdown(this)">Spawn Location</div>
          <ul class="dropdown-options">
            <li onclick="selectOption(this)">Arkendale</li>
            <li onclick="selectOption(this)">Draventhorn</li>
            <li onclick="selectOption(this)">Myrrhollow</li>
          </ul>
        </div>
      
        <div class="custom-dropdown">
          <div class="dropdown-header" onclick="toggleCustomDropdown(this)">World Knowledge</div>
          <ul class="dropdown-options">
            <li onclick="selectOption(this)">Historian</li>
            <li onclick="selectOption(this)">Artifact Seeker</li>
          </ul>
        </div>
      
        <div class="custom-dropdown">
          <div class="dropdown-header" onclick="toggleCustomDropdown(this)">Passive Skill</div>
          <ul class="dropdown-options">
            <li onclick="selectOption(this)">Fast Learner</li>
            <li onclick="selectOption(this)">Berserker Rage</li>
          </ul>
        </div>
      
        <div class="custom-dropdown">
          <div class="dropdown-header" onclick="toggleCustomDropdown(this)">Personality Trait</div>
          <ul class="dropdown-options">
            <li onclick="selectOption(this)">Cunning</li>
            <li onclick="selectOption(this)">Lone Wolf</li>
            <li onclick="selectOption(this)">Charismatic</li>
          </ul>
        </div>
      
        <div class="custom-dropdown">
          <div class="dropdown-header" onclick="toggleCustomDropdown(this)">Starting Bonus</div>
          <ul class="dropdown-options">
            <li onclick="selectOption(this)">Healing Kit</li>
            <li onclick="selectOption(this)">100 G$</li>
            <li onclick="selectOption(this)">Minor Rune</li>
          </ul>
        </div>
      
      </div>
    </div>
  </div>

  <div class="key-container fade-slide-up" style="margin-top: 2rem; text-align: center;">
    <a href="javascript:void(0)" onclick="generateKey()" class="custom-button fade-slide-up">
      <span class="label">CREATE CHARACTER</span>
    </a>
    <p id="generatedKey" style="margin-top: 1.5rem; color: #0f0; font-weight: bold; word-break: break-word;"></p>
    <p id="warningMessage"></p>
  </div>

  <footer class="footer fade-slide-up">
    <div class="footer-container">
      <div class="footer-column">
        <h3>About Us</h3>
        <p>NEXORIA is an open-world game focused on boss battles and looting, with community-powered updates and ongoing development.</p>
      </div>

      <div class="footer-column">
        <h3>Social</h3>
        <ul>
          <li><a href="https://tiktok.com/@phoomphat_phe" target="_blank">Tiktok</a></li>
          <li><a href="https://discord.gg/QvTuj2sH" target="_blank">Discord</a></li>
          <li><a href="https://www.youtube.com/@Ph00mphAt_n" target="_blank">YouTube</a></li>
        </ul>
      </div>

      <div class="footer-bottom">
        <img src="./img/NEXORIA_GOLD_LOGO.png" alt="NEXORIA Logo">
        <p>Â© 2025 NEXORIA. All rights reserved.</p>
      </div>
    </div>
  </footer>
</body>
<script>
  document.addEventListener("keydown", function (e) {
    if (
      e.key === "F12" || 
      (e.ctrlKey && e.shiftKey && e.key === "I") || 
      (e.ctrlKey && e.key === "U")
    ) {
      e.preventDefault();
      return false;
    }
  });

  document.addEventListener("contextmenu", function (e) {
    e.preventDefault();
  });

  function toggleCustomDropdown(clickedHeader) {
    const dropdown = clickedHeader.closest(".custom-dropdown");
    const isOpen = dropdown.classList.contains("open");

    document.querySelectorAll(".custom-dropdown").forEach(d => {
        if (d !== dropdown) d.classList.remove("open");
    });

    if (!isOpen) {
        dropdown.classList.add("open");
    } else {
        dropdown.classList.remove("open");
    }
  }

  function selectOption(element) {
    const dropdown = element.closest(".custom-dropdown");
    const header = dropdown.querySelector(".dropdown-header");

    if (!dropdown.dataset.defaultText) {
      dropdown.dataset.defaultText = header.textContent;
    }

    const defaultText = dropdown.dataset.defaultText;

    if (element.classList.contains("selected")) {
      header.textContent = defaultText;
      header.style.color = "#444";
      element.classList.remove("selected");
    } else {
      dropdown.querySelectorAll(".dropdown-options li").forEach(li => {
        li.classList.remove("selected");
      });
      element.classList.add("selected");
      header.textContent = element.textContent;
      header.style.color = "#fff";
    }

    dropdown.classList.remove("open");
  }

  function toggleUnder(element) {
    const allFrames = document.querySelectorAll('.under-frame');
    allFrames.forEach(frame => {
        if (frame !== element && frame.classList.contains('open')) {
            const otherTitle = frame.querySelector('.under-title');
            otherTitle.style.maxHeight = "0";
            otherTitle.style.opacity = 0;
            otherTitle.style.paddingTop = 0;
            otherTitle.style.paddingBottom = 0;
            frame.classList.remove('open');
        }
    });

    const title = element.querySelector('.under-title');
    if (element.classList.contains('open')) {
        title.style.maxHeight = "0";
        title.style.opacity = 0;
        title.style.paddingTop = 0;
        title.style.paddingBottom = 0;
        element.classList.remove('open');
    } else {
        title.style.maxHeight = title.scrollHeight + "px";
        title.style.opacity = 1;
        title.style.paddingTop = "0.5rem";
        title.style.paddingBottom = "0.25rem";
        element.classList.add('open');
    }
  }

  function toggleMenu() {
    const menu = document.getElementById("mobileMenu");
    const hamburger = document.querySelector(".hamburger");
    const isOpen = menu.classList.contains("show");

    if (isOpen) {
      menu.style.maxHeight = "0px";
      menu.style.padding = "0";
      menu.classList.remove("show");
      hamburger.classList.remove("active");
    } else {
      menu.classList.add("show");
      menu.style.maxHeight = menu.scrollHeight + "px";
      menu.style.padding = "4.5rem 0";
      hamburger.classList.add("active");
    }
  }

  function generateKey() {
    const headers = document.querySelectorAll('.custom-dropdown .dropdown-header');
    let values = [];

    headers.forEach(header => {
      values.push(header.textContent.trim());
    });

    const missing = values.some(v => [
      "Gender", "Role", "Element", "Style", "Difficulty",
      "Spawn Location", "World Knowledge", "Passive Skill", "Personality Trait", "Starting Bonus"
    ].includes(v));

    const warning = document.getElementById("warningMessage");

    if (missing) {
      warning.textContent = "Please select all fields before generating a key.";
      warning.classList.add("show");
      
      setTimeout(() => {
        warning.classList.remove("show");
      }, 3000);
      return;
    }

    const key = `NEXORIA-${values.join("-").toUpperCase()}`;
    window.location.href = `/key?key=${encodeURIComponent(key)}`;
  }
</script>
</html>
